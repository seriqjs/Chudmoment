<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Certified Chud</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background: #000;
        color: white;
        font-family: Arial, Helvetica, sans-serif;
      }

      .video-bg {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        object-fit: cover;
        z-index: -2;
      }

      .overlay {
        position: fixed;
        inset: 0;
        background: rgba(0,0,0,0.45);
        z-index: -1;
      }

      .top-bar {
        background: rgba(200,0,0,0.85);
        padding: 12px 0;
        overflow: hidden;
        white-space: nowrap;
        font-size: 2.2rem;
        font-weight: bold;
        text-shadow: 0 0 10px #000;
        z-index: 10;
        position: relative;
      }

      .marquee {
        display: inline-block;
        animation: scroll 30s linear infinite;
      }

      @keyframes scroll {
        0% { transform: translateX(100%); }
        100% { transform: translateX(-100%); }
      }

      .content {
        position: relative;
        z-index: 5;
        min-height: 80vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        padding: 20px;
      }

      .hero-container {
        text-align: center;
        max-width: 90%;
      }

      .hero {
        max-width: 100%;
        max-height: 70vh;
        height: auto;
        object-fit: contain;
        border: 5px solid #c00;
        border-radius: 12px;
        box-shadow: 0 0 25px rgba(255,0,0,0.6);
      }

      .hero-label {
        margin: 20px 0 0;
        font-size: 2.5rem;
        font-weight: bold;
        text-shadow: 0 0 12px #000;
      }

      .controls {
        position: fixed;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(0,0,0,0.7);
        padding: 15px 30px;
        border-radius: 12px;
        z-index: 10;
        backdrop-filter: blur(4px);
      }

      #volume {
        width: 220px;
        margin-left: 10px;
      }
    </style>
  </head>
  <body>

    <video class="video-bg" autoplay muted loop playsinline>
      <source src="./assets/we-are-billy-kirk.mp4" type="video/mp4">
      Browser does not support video.
    </video>

    <div class="overlay"></div>

    <header class="top-bar">
      <div class="marquee">
        Certified Chud   Certified Chud   Certified Chud   Certified Chud   Certified Chud   Certified Chud   Certified Chud   Certified Chud is jeffery epstien and billy hay is our king
      </div>
    </header>

    <main class="content">
      <div class="hero-container">
        <img src="./assets/content.png" alt="Billy" class="hero">
        <div class="hero-label">Billy</div>
      </div>
    </main>

    <div class="controls">
      <label for="volume">Volume</label>
      <input id="volume" type="range" min="0" max="100" value="80" disabled>
    </div>

    <audio id="bg-audio" src="./assets/music.mp3" loop autoplay></audio>

    <script>
      const audioEl = document.getElementById("bg-audio");
      const volumeSlider = document.getElementById("volume");

      let audioContext = null;
      let sourceNode = null;
      let filterNode = null;
      let gainNode = null;
      let ttsInterval = null;

      const TARGET_VOLUME = 5.0;
      const BOOST_FACTOR = 5.25;

      const chudPhrases = [
        "YOU ARE A CHUD!",
        "NICE TRY, CHUD!",
        "CHUD DETECTED!",
        "STOP THAT, CHUD!",
        "CLASSIC CHUD BEHAVIOR!",
        "CERTIFIED CHUD MOMENT!"
      ];

      function getRandomChudPhrase() {
        return chudPhrases[Math.floor(Math.random() * chudPhrases.length)];
      }

      function speak(text) {
        if (!("speechSynthesis" in window)) return;
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.volume = 1.0;
        utterance.rate = 1.20;
        utterance.pitch = 1.25;
        window.speechSynthesis.cancel();
        window.speechSynthesis.speak(utterance);
      }

      function createBassBoost() {
        if (audioContext) return;
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
        sourceNode = audioContext.createMediaElementSource(audioEl);
        filterNode = audioContext.createBiquadFilter();
        filterNode.type = "lowshelf";
        filterNode.frequency.value = 180;
        filterNode.gain.value = 10;
        gainNode = audioContext.createGain();
        sourceNode.connect(filterNode);
        filterNode.connect(gainNode);
        gainNode.connect(audioContext.destination);
        gainNode.gain.value = TARGET_VOLUME * BOOST_FACTOR;
      }

      function forceMaxVolume() {
        if (gainNode) gainNode.gain.value = TARGET_VOLUME * BOOST_FACTOR;
        audioEl.volume = 1.0;
      }

      function speakChud() {
        // Only flash Billy now
        const flashImg = document.createElement('img');
        flashImg.src = "./assets/content.png";
        flashImg.style.cssText = `
          position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
          max-width: 60%; max-height: 60%; z-index: 9999; border: 6px solid red;
          border-radius: 12px; box-shadow: 0 0 40px red; opacity: 0; transition: opacity 0.4s;
        `;
        document.body.appendChild(flashImg);
        setTimeout(() => { flashImg.style.opacity = '1'; }, 100);
        setTimeout(() => {
          flashImg.style.opacity = '0';
          setTimeout(() => document.body.removeChild(flashImg), 600);
        }, 2800);

        setTimeout(() => speak(getRandomChudPhrase()), 400);
      }

      async function startAudio() {
        try {
          if (audioContext?.state === "suspended") await audioContext.resume();
          createBassBoost();
          forceMaxVolume();
          await audioEl.play();
          setTimeout(() => speak("BENJAMIN NETANYAHU IS MY DAD!"), 1200);
          if (!ttsInterval) {
            ttsInterval = setInterval(() => {
              speak("BENJAMIN NETANYAHU IS MY DAD!");
            }, 30000);
          }
        } catch (err) {
          console.log("Autoplay blocked, waiting for gesture:", err);
        }
      }

      // Slider troll
      volumeSlider.disabled = true;
      volumeSlider.addEventListener("pointerdown", speakChud, { passive: true });
      volumeSlider.addEventListener("keydown", e => {
        if (["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(e.key)) {
          speakChud(); forceMaxVolume(); e.preventDefault();
        }
      });

      audioEl.addEventListener("volumechange", () => {
        if (audioEl.volume < 0.95) { forceMaxVolume(); speakChud(); }
      });

      // Start attempts
      window.addEventListener("DOMContentLoaded", startAudio);
      const resumeOnGesture = () => {
        startAudio();
        window.removeEventListener("pointerdown", resumeOnGesture);
        window.removeEventListener("keydown", resumeOnGesture);
      };
      window.addEventListener("pointerdown", resumeOnGesture);
      window.addEventListener("keydown", resumeOnGesture);

      // Watchdog
      audioEl.addEventListener("pause", () => {
        if (audioEl.currentTime < audioEl.duration - 1) {
          audioEl.play().catch(() => {});
          forceMaxVolume();
        }
      });
    </script>
  </body>
</html> 
